<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
    <link href="css/impress.css" rel="stylesheet" />
</head>
<body>
<div id="impress" class="impress-not-supported">
    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest <b>Chrome</b> or <b>Safari</b> browser. Firefox 10 (to be released soon) will also handle it.</p>
    </div>

<div id="title" class="step" data-y="0" data-x="0">
<h1>Javascript MVC framework AngularJS</h1>

<p>Kiyoshi Nomo <br />
at 社内勉強会 2012/11/05</p>

</div>
<div class="step" data-y="0" data-x="1200">
<h2>What is AngularJS</h2>

<ul>
<li>AngularJS by Google</li>
<li>Backbone.js</li>
<li>Ember.js</li>
<li>spine.js</li>
<li>and more…</li>
</ul>

<p><a href="http://codebrief.com/2012/01/the-top-10-javascript-mvc-frameworks-reviewed/">http://codebrief.com/2012/01/the-top-10-javascript-mvc-frameworks-reviewed/</a></p>

</div>
<div class="step" data-y="0" data-x="2400">
<h2>> <strong>Is AngularJS a library, framework, plugin or a browser extension?</strong></h2>

<blockquote>
  <p>AngularJS fits the definition of a framework the best, even though it's much more lightweight than a typical framework and that's why many confuse it with a library.</p>
</blockquote>

</div>
<div class="step" data-y="0" data-x="3600">
<h2>> AngularJS is 100% JavaScript, 100% client side and compatible with both desktop and mobile browsers. So it's definitely not a plugin or some other native browser extension.</h2>

<p><a href="http://docs.angularjs.org/misc/faq">http://docs.angularjs.org/misc/faq</a></p>

</div>
<div class="step" data-y="0" data-x="4800">
<h2>> <strong>Why is this project called "AngularJS"? Why is the namespace called "ng"?</strong></h2>

<blockquote>
  <p>Because HTML has Angular brackets and "ng" sounds like "Angular".</p>
</blockquote>

<p><a href="http://docs.angularjs.org/misc/faq">http://docs.angularjs.org/misc/faq</a></p>

</div>
<div class="step" data-y="800" data-x="0">
<h2>Internet Explorer ?</h2>

<blockquote>
  <p>This document describes the Internet Explorer (IE) idiosyncrasies when dealing with custom HTML attributes and tags. Read this document if you are planning on deploying your angular application on IE v8.0 or earlier.</p>
</blockquote>

<p><a href="http://docs.angularjs.org/guide/ie">http://docs.angularjs.org/guide/ie</a></p>

</div>
<div class="step" data-y="800" data-x="1200">
<h2>tutorial</h2>

<h3>You will need Node.js and Testacular</h3>

<h3>You can follow this tutorial and hack on the code in either the Mac/Linux or the Windows environment.</h3>

<ul>
<li>Node.js v0.8 or better </li>
<li>npm install -g testacular</li>
<li>git clone git://github.com/angular/angular-phonecat.git</li>
<li>cd angular-phonecat</li>
<li>./scripts/web-server.js</li>
</ul>

</div>
<div class="step" data-y="800" data-x="2400">
<h2>0 - Bootstrapping</h2>

</div>
<div class="step" data-y="800" data-x="3600">
<h2>ng-app directive</h2>

<blockquote>
  <p>The ng-app attribute is represents an Angular directive (named ngApp; Angular uses name-with-dashes for attribute names and camelCase for the corresponding directive name)</p>
</blockquote>

</div>
<div class="step" data-y="800" data-x="4800">
<h2>Double-curly binding with an expression</h2>

<p><a href="http://docs.angularjs.org/guide/expression">Angular expression</a></p>

</div>
<div class="step" data-y="1600" data-x="0">
<h2>1 - Static Template</h2>

<p>In order to illustrate how angular enhances standard HTML, you will create a purely static HTML page and then examine how we can turn this HTML code into a template that angular will use to dynamically display the same result with any set of data.</p>

</div>
<div class="step" data-y="1600" data-x="1200">
<h2>2 - Angular Templates</h2>

<p>The ng-repeat="phone in phones" statement in the <code>&lt;li&gt;</code> tag is an Angular repeater.</p>

</div>
<div class="step" data-y="1600" data-x="2400">
<h2>PhoneListCtrl controller</h2>

<iframe width="677px" height="423px" src="http://docs.angularjs.org/img/tutorial/tutorial_02.png" frameborder="0"></iframe>

</div>
<div class="step" data-y="1600" data-x="3600">
<h2>Model and Controller</h2>

<blockquote>
  <p>The data model (a simple array of phones in object literal notation) is instantiated within the PhoneListCtrl controller.</p>
  
  <p>This controller scope is available to all bindings located within the <body ng-controller="PhoneListCtrl"> tag.</p>
</blockquote>

<p><a href="http://docs.angularjs.org/api/ng.$rootScope.Scope">angular scope documentation</a></p>

</div>
<div class="step" data-y="1600" data-x="4800">
<h2>Tests</h2>

<blockquote>
  <p>The "Angular way" makes it easy to test code as it is being developed.</p>
  
  <p>Angular developers prefer the syntax of <a href="http://pivotal.github.com/jasmine/">Jasmine</a>'s Behavior-driven Development (BDD) framework when writing tests.</p>
</blockquote>

</div>
<div class="step" data-y="2400" data-x="0">
<h2>./scripts/test.sh</h2>

<p><a href="https://github.com/angular/angular-phonecat/blob/master/scripts/test.sh">test.sh</a></p>

<p><a href="https://github.com/angular/angular-phonecat/blob/master/config/testacular.conf.js">testacular.conf.js</a></p>

</div>
<div class="step" data-y="2400" data-x="1200">
<h2>./scripts/test.sh</h2>

<p>--browsers Chrome,ChromeCanary,Firefox,Opera, <br />
Safari,PhantomJS,IE</p>

<p><a href="https://github.com/vojtajina/testacular/blob/master/test/client/testacular.conf.js">testacular.conf.js</a></p>

</div>
<div class="step" data-y="2400" data-x="2400">
<h2>Testacular</h2>

<blockquote>
  <p><strong>Why am I doing this?</strong></p>
  
  <p>Throughout the development of AngularJS, we've been using JSTD for testing. I really think that JSTD is a great idea. Unfortunately, we had many problems with JSTD, so we decided to write our own test runner based on the same idea. We wanted a simple tool just for executing JavaScript tests that is both stable and fast. That's why we use the awesome Socket.io library and Node.js.</p>
</blockquote>

<p>https://github.com/vojtajina/testacular
<br />
<br />
* JSTD: <a href="http://code.google.com/p/js-test-driver/">js-test-driver</a></p>

</div>
<div class="step" data-y="2400" data-x="3600">
<h2>3 - Filtering Repeaters</h2>

<blockquote>
  <p>we will add full text search (yes, it will be simple!). </p>
  
  <p>We will also write an end-to-end test</p>
</blockquote>

</div>
<div class="step" data-y="2400" data-x="4800">
<h2>filter</h2>

<iframe width="677px" height="423px" src="http://docs.angularjs.org/img/tutorial/tutorial_03.png" frameborder="0"></iframe>

</div>
<div class="step" data-y="3200" data-x="0">
<h2>4 - Two-way Data Binding</h2>

<blockquote>
  <p>let your users control the order of the items in the phone list. 
  The dynamic ordering is implemented by creating a new model property</p>
</blockquote>

</div>
<div class="step" data-y="3200" data-x="1200">
<h2>orderBy filter</h2>

<iframe width="677px" height="423px" src="http://docs.angularjs.org/img/tutorial/tutorial_04.png" frameborder="0"></iframe>

</div>
<div class="step" data-y="3200" data-x="2400">
<h2>5 - XHRs &amp; Dependency Injection</h2>

<blockquote>
  <p>fetch a larger dataset from our server using one of angular's built-in <a href="http://docs.angularjs.org/api/ng">services</a> called <a href="http://docs.angularjs.org/api/ng.$http">$http</a></p>
</blockquote>

</div>
<div class="step" data-y="3200" data-x="3600">
<h2>dependency injector</h2>

<iframe width="677px" height="423px" src="http://docs.angularjs.org/img/tutorial/xhr_service_final.png" frameborder="0"></iframe>

</div>
<div class="step" data-y="3200" data-x="4800">
<h2>'$' Prefix Naming Convention</h2>

<blockquote>
  <p>As a naming convention, angular's built-in services, Scope methods and a few other angular APIs have a '$' prefix in front of the name.</p>
  
  <p>Don't use a '$' prefix when naming your services and models, in order to avoid any possible naming collisions.</p>
</blockquote>

</div>
<div class="step" data-y="4000" data-x="0">
<h2>A Note on Minification</h2>

<p><code>
PhoneListCtrl.$inject = ['$scope', '$http'];
</code></p>

<p><code>
var PhoneListCtrl = ['$scope', '$http', function($scope, $http) { /* constructor body */ }];
</code></p>

<blockquote>
  <p>Both of these methods work with any function that can be injected by Angular, so it's up to your project's style guide to decide which one you use.</p>
</blockquote>

</div>
<div class="step" data-y="4000" data-x="1200">
<h2>Test</h2>

<blockquote>
  <p>Note: Because we loaded Jasmine and angular-mocks.js in our test environment, we got two helper methods <a href="http://docs.angularjs.org/api/angular.mock.module">module</a> and <a href="http://docs.angularjs.org/api/angular.mock.inject">inject</a> that we'll use to access and configure the injector. </p>
  
  <p>We used the inject helper method to inject instances of <a href="http://docs.angularjs.org/api/ng.$rootScope">$rootScope</a>, <a href="http://docs.angularjs.org/api/ng.$controller">$controller</a> and <a href="http://docs.angularjs.org/api/ng.$httpBackend">$httpBackend</a> services into the Jasmine's beforeEach function.</p>
  
  <p>We created a new scope for our controller by calling $rootScope.$new()</p>
  
  <p>We called the injected $controller function passing the PhoneListCtrl function and the created scope as parameters.</p>
</blockquote>

</div>
<div class="step" data-y="4000" data-x="2400">
<h2>Test</h2>

<blockquote>
  <p>Request $httpBackend service to be injected into our beforeEach function. This is a mock version of the service that in a production environment facilitates all XHR and JSONP requests. The mock version of this service allows you to write tests without having to deal with native APIs and the global state associated with them — both of which make testing a nightmare.</p>
  
  <p>Use the $httpBackend.expectGET method to train the $httpBackend service to expect an incoming HTTP request and tell it what to respond with. Note that the responses are not returned until we call the $httpBackend.flush method.</p>
</blockquote>

</div>
<div class="step" data-y="4000" data-x="3600">
<h2>6 - Templating Links &amp; Images</h2>

<blockquote>
  <p>you will add thumbnail images for the phones in the phone list, and links that, for now, will go nowhere.</p>
</blockquote>

</div>
<div class="step" data-y="4000" data-x="4800">
<h2>7 - Routing &amp; Multiple Views</h2>

<blockquote>
  <p>you will learn how to create a layout template and how to build an app that has multiple views by adding routing.</p>
</blockquote>

</div>
<div class="step" data-y="4800" data-x="0">
<h2>Multiple Views, Routing and Layout Template</h2>

<blockquote>
  <p>Application routes in Angular are declared via the <a href="http://docs.angularjs.org/api/ng.$routeProvider">$routeProvider</a>, which is the provider of the <a href="http://docs.angularjs.org/api/ng.$route">$route service</a>. This service makes it easy to wire together controllers, view templates, and the current URL location in the browser.</p>
</blockquote>

</div>
<div class="step" data-y="4800" data-x="1200">
<h2>The App Module</h2>

<blockquote>
  <p>We call this module phonecatApp and using the config API we request the $routeProvider to be injected into our config function and use $routeProvider.when API to define our routes.</p>
</blockquote>

</div>
<div class="step" data-y="4800" data-x="2400">
<h2>The App Module</h2>

<blockquote>
  <p>Note the use of the :phoneId parameter in the second route declaration. The $route service uses the route declaration — '/phones/:phoneId' — as a template that is matched against the current URL. All variables defined with the : notation are extracted into the <a href="http://docs.angularjs.org/api/ng.$routeParams">$routeParams</a> object.</p>
</blockquote>

</div>
<div class="step" data-y="4800" data-x="3600">
<h2>The App Module</h2>

<p>In order for our application to bootstrap with our newly created module we'll also need to specify the module name as the value of the <a href="http://docs.angularjs.org/api/ng.directive:ngApp">ngApp</a> directive:</p>

<p><code>
&lt;html lang="en" ng-app="phonecat"&gt;
</code></p>

</div>
<div class="step" data-y="4800" data-x="4800">
<h2>Controllers</h2>

<pre>
function PhoneDetailCtrl($scope, $routeParams) {  
  $scope.phoneId = $routeParams.phoneId;  
}
</pre>

</div>
<div class="step" data-y="5600" data-x="0">
<h2>Template</h2>

<blockquote>
  <p>The $route service is usually used in conjunction with the <a href="http://docs.angularjs.org/api/ng.directive:ngView">ngView</a> directive. The role of the ngView directive is to include the view template for the current route into the layout template, which makes it a perfect fit for our index.html template.</p>
</blockquote>

</div>
<div class="step" data-y="5600" data-x="1200">
<h2>app/partials/phone-list.html</h2>

<blockquote>
  <p>The code that we removed was placed into the phone-list.html template</p>
</blockquote>

</div>
<div class="step" data-y="5600" data-x="2400">
<h2>app/partials/phone-detail.html</h2>

<blockquote>
  <p>Note how we are using phoneId model defined in the PhoneDetailCtrl controller.</p>
</blockquote>

</div>
<div class="step" data-y="5600" data-x="3600">
<h2>8 - More Templating</h2>

<blockquote>
  <p>implement the phone details view, which is displayed when a user clicks on a phone in the phone list.</p>
</blockquote>

</div>
<div class="step" data-y="5600" data-x="4800">
<h2>Data</h2>

<blockquote>
  <p>In addition to phones.json, the app/phones/ directory also contains one json file for each phone</p>
</blockquote>

</div>
<div class="step" data-y="6400" data-x="0">
<h2>Controller</h2>

<blockquote>
  <p>To construct the URL for the HTTP request, we use $routeParams.phoneId extracted from the current route by the $route service.</p>
</blockquote>

</div>
<div class="step" data-y="6400" data-x="1200">
<h2>Template</h2>

<blockquote>
  <p>The TBD placeholder line has been replaced with lists and bindings that comprise the phone details</p>
</blockquote>

</div>
<div class="step" data-y="6400" data-x="2400">
<h2>Test</h2>

<p><a href="http://docs.angularjs.org/guide/dev_guide.e2e-testing">Angular's end-to-end test runner API</a></p>

</div>
<div class="step" data-y="6400" data-x="3600">
<h2>9 - Filters</h2>

<blockquote>
  <p>how to create your own custom display filter.</p>
</blockquote>

</div>
<div class="step" data-y="6400" data-x="4800">
<h2>Custom Filter</h2>

<p>you are going to create a phonecatFilters module and register your custom filter with this module:</p>

<p>app/js/filters.js</p>

</div>
<div class="step" data-y="7200" data-x="0">
<h2>app/js/app.js</h2>

<p><code>
angular.module('phonecat', ['phonecatFilters']).
</code></p>

</div>
<div class="step" data-y="7200" data-x="1200">
<h2>Template</h2>

<blockquote>
  <p>we need to include this file in our layout template.</p>
</blockquote>

<p>app/index.html</p>

<blockquote>
  <p>The syntax for using filters in Angular templates is as follows:</p>
</blockquote>

<p><code>
{{ expression | filter }}
</code></p>

<p>app/partials/phone-detail.html</p>

</div>
<div class="step" data-y="7200" data-x="2400">
<h2>Test</h2>

<p>test/unit/filtersSpec.js</p>

<p>./scripts/test.sh</p>

<hr />

<p><a href="http://docs.angularjs.org/api/ng.$filter">built-in Angular filters</a></p>

</div>
<div class="step" data-y="7200" data-x="3600">
<h2>10 - Event Handlers</h2>

<blockquote>
  <p>add a clickable phone image swapper to the phone details page.</p>
</blockquote>

</div>
<div class="step" data-y="7200" data-x="4800">
<h2>Controller</h2>

<p>app/js/controllers.js</p>

<blockquote>
  <p>created the mainImageUrl model property and set its default value to the first phone image URL.</p>
  
  <p>created a setImage event handler function that will change the value of mainImageUrl.</p>
</blockquote>

</div>
<div class="step" data-y="8000" data-x="0">
<h2>Template</h2>

<p>app/partials/phone-detail.html</p>

<blockquote>
  <p>bound the ngSrc directive of the large image to the mainImageUrl property</p>
  
  <p>registered an <a href="http://docs.angularjs.org/api/ng.directive:ngClick">ngClick</a> handler with thumbnail images.</p>
</blockquote>

</div>
<div class="step" data-y="8000" data-x="1200">
<h2>Test</h2>

<p>test/e2e/scenarios.js</p>

<blockquote>
  <p>One verifies that the main image is set to the first phone image by default. </p>
  
  <p>The second test clicks on several thumbnail images and verifies that the main image changed appropriately.</p>
</blockquote>

<p><a href="http://angular.github.com/angular-phonecat/step-8/test/e2e/runner.html">http://angular.github.com/angular-phonecat/step-8/test/e2e/runner.html</a></p>

</div>
<div class="step" data-y="8000" data-x="2400">
<h2>11 - REST and Custom Services</h2>

<p>https://github.com/angular/angular-phonecat/compare/step-10...step-11</p>

<blockquote>
  <p>improve the way our app fetches data.</p>
</blockquote>

</div>
<div class="step" data-y="8000" data-x="3600">
<h2>Template</h2>

<blockquote>
  <p>The custom service is defined in app/js/services.js so we need to include this file in our layout template. </p>
  
  <p>Additionally, we also need to load the angular-resource.js file, which contains the ngResource module and in it the $resource service, that we'll soon use.</p>
</blockquote>

<p>app/index.html</p>

</div>
<div class="step" data-y="8000" data-x="4800">
<h2>Service</h2>

<p>app/js/services.js.</p>

<blockquote>
  <p>the module API to register a custom service using a factory function.</p>
</blockquote>

<p>The <a href="http://docs.angularjs.org/api/ngResource.$resource">$resource</a> service makes it easy to create a <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">RESTful</a> client with just a few lines of code. This client can then be used in our application, instead of the lower-level <a href="http://docs.angularjs.org/api/ng.$http">$http</a> service.</p>

</div>
<div class="step" data-y="8800" data-x="0">
<h2>app/js/app.js</h2>

<blockquote>
  <p>We need to add 'phonecatServices' to 'phonecat' application's requires array.</p>
</blockquote>

</div>
<div class="step" data-y="8800" data-x="1200">
<h2>Controller</h2>

<blockquote>
  <p>We simplified our sub-controllers (PhoneListCtrl and PhoneDetailCtrl) by factoring out the lower-level <a href="http://docs.angularjs.org/api/ng.$http">$http</a> service, replacing it with a new service called Phone.</p>
</blockquote>

<p>app/js/controllers.js</p>

</div>
<div class="step" data-y="8800" data-x="2400">
<h2>Test</h2>

<blockquote>
  <p>The <a href="http://docs.angularjs.org/api/ngResource.$resource">$resource</a> service augments the response object with methods for updating and deleting the resource. If we were to use the standard toEqual matcher, our tests would fail because the test values would not match the responses exactly. To solve the problem, we use a newly-defined toEqualData <a href="http://pivotal.github.com/jasmine/jsdoc/symbols/jasmine.Matchers.html">Jasmine matcher</a>.</p>
</blockquote>

<ul>
<li><p>test/unit/controllersSpec.js</p></li>
<li><p>./scripts/test.sh</p></li>
</ul>

</div>
<div class="step" data-y="8800" data-x="3600">
<h2>Reference </h2>

<p><a href="http://docs.angularjs.org/guide/index">Developer Guide</a></p>

<p><a href="http://docs.angularjs.org/cookbook/index">Cookbook</a></p>

</div>
<div class="step" data-y="8800" data-x="4800">
<h2>Thank you!</h2>

</div>


    <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10">
    </div>

</div>

<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>
<script src="js/impress.js"></script>

</body>
</html>

